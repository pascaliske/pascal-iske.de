<!doctype html>
<html lang="en">
<head>
    <base href="/" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="Description" content="Angular Web App built with Travis CI and deployed with Firebase." />
    <meta name="theme-color" content="#FFFFFF" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="manifest" href="./manifest.json" />
</head>
<body>
    <cmp-root></cmp-root>

    <script type="application/javascript">
        const property = 'UA-77052352-1'
        const disable = 'ga-disable-' + property

        if (document.cookie.indexOf(disable + '=true') > -1) {
            window[disable] = true
        }

        function gaOptout() {
            document.cookie = disable + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/'
            window[disable] = true
            alert('Das Tracking ist jetzt deaktiviert')
        }

        function init(window, document) {
            window.GoogleAnalyticsObject = 'ga'
            window.ga = window.ga || function() {
                (window.ga.q = window.ga.q || []).push(arguments)
            }

            window.ga.l = 1 * new Date()

            const element = document.createElement('script')
            element.async = 1
            element.src = 'https://www.google-analytics.com/analytics.js'

            const reference = document.getElementsByTagName('script')[0]
            reference.parentNode.insertBefore(element, reference)
        }

        init(window, document)
        ga('create', property, 'auto')
        ga('set', 'anonymizeIp', true)
    </script>
</body>
</html>
